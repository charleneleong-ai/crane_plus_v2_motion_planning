
<!--
File Created: Tuesday, 15th January 2019 11:27:16 am
Last Modified: Wednesday, 16th January 2019 10:03:00 am
Author: Charlene Leong (charleneleong84@gmail.com)
-->

<launch>
  <!-- option to choose target -->
  <arg name="start_pose" default="backbend"/>       <!-- [vertical, backbend, resting] -->
  <arg name="target_pose" default="resting"/>
  <arg name="planner_config" default="Cano_etal"/>  <!-- ["Cano_etal, rand, tpe] -->
  <arg name="mode" default="tpe"/>                  <!-- [baseline, rand, tpe] -->
  
  <arg name="max_trials" default="30" />
  <arg name="iter" default="1" />

  <!-- parameter tuning file -->
  <arg name="param_mode" default="$(find crane_plus_control)/config/parameter_tuning.yaml"/>
  <arg name="planner_configs" default="$(find crane_plus_control)/config/planner_configs.yaml"/>


  <node pkg="crane_plus_control" name="parameter_tuning" type="parameter_tuning.py" output="screen" required="true">
    <rosparam command="load" file="$(arg param_mode)"/>
    <rosparam command="load" file="$(arg planner_configs)"/>
    <param name="start_pose" type="str" value="$(arg start_pose)" />
    <param name="target_pose" type="str" value="$(arg target_pose)" />
    <param name="planner_config" type="str" value="$(arg planner_config)" />
    
    <param name="mode" type="str" value="$(arg mode)" />
    <param unless="$(eval arg('mode') == 'baseline')" name="max_trials" type="int" value="$(arg max_trials)" />
    <param name="iter" type="int" value="$(arg iter)" />
  </node>
  <!-- <node pkg="crane_plus_control" name="benchmark" type="benchmark_session.py" output="screen" required="true">
    <rosparam command="load" file="$(arg param_mode)"/>
    <rosparam command="load" file="$(arg planner_configs)"/>
    <param name="start_pose" type="str" value="$(arg start_pose)" />
    <param name="target_pose" type="str" value="$(arg target_pose)" />
    <param name="planner_config" type="str" value="$(arg planner_config)" />
    
    <param name="mode" type="str" value="$(arg mode)" />
    <param unless="$(eval arg('mode') == 'baseline')" name="max_trials" type="int" value="$(arg max_trials)" />
    <param name="iter" type="int" value="$(arg iter)" />
  </node> -->
</launch>
